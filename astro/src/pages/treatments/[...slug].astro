---
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const treatments = await getCollection('treatments');
  return treatments.map((treatment) => ({
    params: { slug: treatment.slug },
    props: { slug: treatment.slug },
  }));
}

const { slug } = Astro.props;

// Redirect to the new root-level URL
return Astro.redirect(`/${slug}`, 301);
--- 